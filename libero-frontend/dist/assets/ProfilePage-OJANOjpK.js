import{d as L,g as j,r as v,h as C,o as A,c as r,b as e,e as y,i as a,j as c,t as o,k as p,w as b,l as H,F as M,m as W,f as l}from"./index-BCzPVFf8.js";const B={class:"prediction-history-page container mx-auto px-4 py-8 pt-32 max-w-6xl"},F={class:"mb-8"},z={class:"flex items-center justify-between mb-6"},V={class:"flex gap-3"},D=["disabled"],T={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8"},N={class:"bg-white rounded-xl shadow-lg p-6 border border-gray-100"},E={class:"flex items-center justify-between"},R={class:"text-3xl font-bold text-gray-900"},G={class:"bg-white rounded-xl shadow-lg p-6 border border-gray-100"},I={class:"flex items-center justify-between"},Y={class:"text-3xl font-bold text-green-600"},S={class:"text-sm text-green-600"},U={class:"bg-white rounded-xl shadow-lg p-6 border border-gray-100"},q={class:"flex items-center justify-between"},$={class:"text-3xl font-bold text-gray-600"},J={class:"text-sm text-gray-600"},K={class:"bg-white rounded-xl shadow-lg p-6 border border-gray-100"},O={class:"flex items-center justify-between"},Q={class:"text-3xl font-bold text-red-600"},X={class:"text-sm text-red-600"},Z={key:0,class:"flex items-center justify-center py-12"},ee={key:1,class:"bg-red-50 border border-red-200 rounded-xl p-6 mb-8"},te={class:"flex items-center"},se={class:"flex-1"},oe={class:"text-lg font-medium text-red-800"},ie={class:"text-red-700"},ne={key:0,class:"mt-4"},ae={key:2,class:"text-center py-16"},re={class:"bg-gray-50 rounded-2xl p-12 border-2 border-dashed border-gray-300"},le={key:3,class:"space-y-4"},de={class:"flex items-center justify-between mb-6"},ce={class:"text-sm text-gray-600"},me={class:"grid gap-4"},ge={class:"flex items-center justify-between mb-4"},xe={class:"flex items-center gap-4"},ue={class:"text-center"},he={class:"text-lg font-bold text-gray-900"},ve={class:"text-sm text-gray-600"},ye={class:"text-center mx-6"},pe={class:"text-3xl font-bold text-indigo-600 mb-1"},be={class:"text-sm font-semibold text-indigo-700"},we={class:"text-center"},fe={class:"text-lg font-bold text-gray-900"},_e={class:"text-sm text-gray-600"},ke={class:"flex items-center gap-3"},Pe={class:"text-right"},Le={class:"text-sm font-medium text-gray-900"},je=["onClick"],Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4 border-t border-gray-100"},Ae={class:"flex items-center justify-between"},He={class:"text-sm text-gray-600"},Me={class:"font-medium"},We={class:"flex items-center justify-between"},Be={class:"text-sm text-gray-600"},Fe={class:"font-medium"},ze={class:"space-y-2"},Ve={class:"flex items-center justify-between"},De={class:"font-medium text-green-600"},Te={class:"flex items-center justify-between"},Ne={class:"font-medium text-gray-600"},Ee={class:"flex items-center justify-between"},Re={class:"font-medium text-red-600"},Se=L({__name:"ProfilePage",setup(Ge){const i=j(),w={E0:"Premier League",SP1:"La Liga",I1:"Serie A",D1:"Bundesliga",F1:"Ligue 1","Premier League":"Premier League","La Liga":"La Liga","Serie A":"Serie A",Bundesliga:"Bundesliga","Ligue 1":"Ligue 1"},m=v(null),x=v(!1),d=C(()=>{const s=m.value||i.getStats();return{total:(s==null?void 0:s.total)??0,homeWins:(s==null?void 0:s.homeWins)??0,draws:(s==null?void 0:s.draws)??0,awayWins:(s==null?void 0:s.awayWins)??0,homeWinPercentage:(s==null?void 0:s.homeWinPercentage)??0,drawPercentage:(s==null?void 0:s.drawPercentage)??0,awayWinPercentage:(s==null?void 0:s.awayWinPercentage)??0}}),u=s=>w[s]||s,f=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=async()=>{await Promise.all([i.fetchPredictions(),g()])},g=async()=>{x.value=!0;try{m.value=await i.fetchStatistics()}catch{console.warn("Failed to fetch API statistics, using local calculation")}finally{x.value=!1}},k=async s=>{confirm("Are you sure you want to delete this prediction?")&&(await i.deletePrediction(s),await g())},P=async()=>{confirm("Are you sure you want to clear all prediction history? This action cannot be undone.")&&(await i.clearAllPredictions(),m.value=null)};return A(async()=>{await Promise.all([i.fetchPredictions(),g()])}),(s,t)=>{const h=H("router-link");return l(),r("div",B,[e("div",F,[e("div",z,[t[2]||(t[2]=e("div",null,[e("h1",{class:"text-4xl font-bold text-gray-900 mb-2"},"Prediction History"),e("p",{class:"text-gray-600"},"Track your football match predictions and analyze your prediction patterns")],-1)),e("div",V,[e("button",{onClick:_,disabled:a(i).isLoading,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center gap-2"},t[0]||(t[0]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),c(" Refresh ")]),8,D),a(i).predictions.length>0?(l(),r("button",{key:0,onClick:P,class:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2"},t[1]||(t[1]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})],-1),c(" Clear All ")]))):y("",!0)])]),e("div",T,[e("div",N,[e("div",E,[e("div",null,[t[3]||(t[3]=e("p",{class:"text-gray-600 text-sm font-medium"},"Total Predictions",-1)),e("p",R,o(d.value.total),1)]),t[4]||(t[4]=e("div",{class:"bg-blue-100 p-3 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1))])]),e("div",G,[e("div",I,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-gray-600 text-sm font-medium"},"Home Wins",-1)),e("p",Y,o(d.value.homeWins),1),e("p",S,o((d.value.homeWinPercentage||0).toFixed(1))+"%",1)]),t[6]||(t[6]=e("div",{class:"bg-green-100 p-3 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})])],-1))])]),e("div",U,[e("div",q,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-gray-600 text-sm font-medium"},"Draws",-1)),e("p",$,o(d.value.draws),1),e("p",J,o((d.value.drawPercentage||0).toFixed(1))+"%",1)]),t[8]||(t[8]=e("div",{class:"bg-gray-100 p-3 rounded-lg"},[e("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1))])]),e("div",K,[e("div",O,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-gray-600 text-sm font-medium"},"Away Wins",-1)),e("p",Q,o(d.value.awayWins),1),e("p",X,o((d.value.awayWinPercentage||0).toFixed(1))+"%",1)]),t[10]||(t[10]=e("div",{class:"bg-red-100 p-3 rounded-lg"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])],-1))])])])]),a(i).isLoading?(l(),r("div",Z,t[11]||(t[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1),e("span",{class:"ml-3 text-gray-600"},"Loading prediction history...",-1)]))):a(i).error?(l(),r("div",ee,[e("div",te,[t[13]||(t[13]=e("svg",{class:"w-6 h-6 text-red-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),e("div",se,[e("h3",oe,o(a(i).error.includes("log in")?"Authentication Required":"Error Loading History"),1),e("p",ie,o(a(i).error),1),a(i).error.includes("log in")?(l(),r("div",ne,[p(h,{to:"/auth",class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors gap-2"},{default:b(()=>t[12]||(t[12]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})],-1),c(" Log In to Continue ")])),_:1})])):y("",!0)])])])):a(i).predictions.length===0?(l(),r("div",ae,[e("div",re,[t[15]||(t[15]=e("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),t[16]||(t[16]=e("h3",{class:"text-2xl font-bold text-gray-900 mb-4"},"No Predictions Yet",-1)),t[17]||(t[17]=e("p",{class:"text-gray-600 mb-6 max-w-md mx-auto"}," You haven't made any match predictions yet. Head to the home page to start predicting match outcomes! ",-1)),p(h,{to:"/",class:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors gap-2"},{default:b(()=>t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})],-1),c(" Make Your First Prediction ")])),_:1})])])):(l(),r("div",le,[e("div",de,[t[18]||(t[18]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Recent Predictions",-1)),e("div",ce,o(a(i).predictions.length)+" prediction"+o(a(i).predictions.length!==1?"s":""),1)]),e("div",me,[(l(!0),r(M,null,W(a(i).predictions,n=>(l(),r("div",{key:n.id,class:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow"},[e("div",ge,[e("div",xe,[e("div",ue,[e("div",he,o(n.homeTeam),1),e("div",ve,o(u(n.homeLeague)),1)]),e("div",ye,[e("div",pe,o(n.predictedHomeScore??0)+" - "+o(n.predictedAwayScore??0),1),e("div",be,o(n.predictedResult??"Unknown"),1)]),e("div",we,[e("div",fe,o(n.awayTeam),1),e("div",_e,o(u(n.awayLeague)),1)])]),e("div",ke,[e("div",Pe,[t[19]||(t[19]=e("div",{class:"text-sm text-gray-600"},"Predicted on",-1)),e("div",Le,o(f(n.createdAt)),1)]),e("button",{onClick:Ie=>k(n.id),class:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors"},t[20]||(t[20]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,je)])]),e("div",Ce,[e("div",null,[t[21]||(t[21]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Expected Goals",-1)),e("div",Ae,[e("span",He,o(n.homeTeam),1),e("span",Me,o((n.expectedHomeGoals??0).toFixed(1)),1)]),e("div",We,[e("span",Be,o(n.awayTeam),1),e("span",Fe,o((n.expectedAwayGoals??0).toFixed(1)),1)])]),e("div",null,[t[25]||(t[25]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Win Probabilities",-1)),e("div",ze,[e("div",Ve,[t[22]||(t[22]=e("span",{class:"text-sm text-gray-600"},"Home Win",-1)),e("span",De,o(((n.homeWinProbability??0)*100).toFixed(1))+"%",1)]),e("div",Te,[t[23]||(t[23]=e("span",{class:"text-sm text-gray-600"},"Draw",-1)),e("span",Ne,o(((n.drawProbability??0)*100).toFixed(1))+"%",1)]),e("div",Ee,[t[24]||(t[24]=e("span",{class:"text-sm text-gray-600"},"Away Win",-1)),e("span",Re,o(((n.awayWinProbability??0)*100).toFixed(1))+"%",1)])])])])]))),128))])]))])}}});export{Se as default};
